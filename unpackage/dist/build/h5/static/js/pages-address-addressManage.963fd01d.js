(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-addressManage"],{"0ae1":function(t,e,n){"use strict";n.r(e);var i=n("4237"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},"10b7":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.uni-popup[data-v-090f85de]{position:fixed;top:50px;bottom:0;left:0;right:0;z-index:999;overflow:hidden}.uni-popup__mask[data-v-090f85de]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:998;background:rgba(0,0,0,.4);opacity:0}.uni-popup__mask.ani[data-v-090f85de]{-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}.uni-popup__mask.uni-bottom[data-v-090f85de],.uni-popup__mask.uni-center[data-v-090f85de],.uni-popup__mask.uni-top[data-v-090f85de]{opacity:1}.uni-popup__wrapper[data-v-090f85de]{position:absolute;z-index:999;-webkit-box-sizing:border-box;box-sizing:border-box}.uni-popup__wrapper.ani[data-v-090f85de]{-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}.uni-popup__wrapper.top[data-v-090f85de]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}.uni-popup__wrapper.bottom[data-v-090f85de]{bottom:0;left:0;width:100%;-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}.uni-popup__wrapper.center[data-v-090f85de]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-090f85de]{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.uni-popup__wrapper.uni-custom .uni-popup__wrapper-box[data-v-090f85de]{padding:%?30?%;background:#fff}.uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box[data-v-090f85de]{position:relative;max-width:80%;max-height:80%;overflow-y:scroll}.uni-popup__wrapper.uni-custom.bottom .uni-popup__wrapper-box[data-v-090f85de],.uni-popup__wrapper.uni-custom.top .uni-popup__wrapper-box[data-v-090f85de]{width:100%;max-height:500px;overflow-y:scroll}.uni-popup__wrapper.uni-bottom[data-v-090f85de],.uni-popup__wrapper.uni-top[data-v-090f85de]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.uni-popup__wrapper.uni-center[data-v-090f85de]{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}',""])},"110c":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{},[n("v-uni-view",{staticClass:"text-normal",on:{click:function(e){e=t.$handleEvent(e),t.pickerOpen(e)}}},[t.currentMsg?n("v-uni-text",[t._v(t._s(t.currentMsg))]):n("v-uni-text",{staticClass:"color-tip"},[t._v(t._s(t.areas&&t.areas.length?t.msg:"加载中..."))])],1),n("uni-popup",{ref:"$unipopup",staticClass:"x-picker-ctx",attrs:{type:"bottom"}},[n("v-uni-view",{staticClass:"x-picker-hd",attrs:{catchtouchmove:"true"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e)}}},[n("v-uni-view",{staticClass:"x-picker-btn",on:{click:function(e){e=t.$handleEvent(e),t.pickerCancel(e)}}},[t._v("取消")]),n("v-uni-view",{staticClass:"x-picker-btn btn-submit",on:{click:function(e){e=t.$handleEvent(e),t.pickerConfirm(e)}}},[t._v("确定")])],1),n("v-uni-view",{staticClass:"x-picker-view"},[n("v-uni-picker-view",{attrs:{"indicator-style":t.itemHeight,value:t.pickerValue},on:{change:function(e){e=t.$handleEvent(e),t.change(e)}}},[n("v-uni-picker-view-column",t._l(t.provinceList,function(e,i){return n("v-uni-view",{key:i,staticClass:"column"},[t._v(t._s(e.shortname))])}),1),n("v-uni-picker-view-column",t._l(t.cityList,function(e,i){return n("v-uni-view",{key:i,staticClass:"column"},[t._v(t._s(e.shortname))])}),1),n("v-uni-picker-view-column",t._l(t.areaList,function(e,i){return n("v-uni-view",{key:i,staticClass:"column"},[t._v(t._s(e.shortname))])}),1)],1)],1)],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},1147:function(t,e,n){"use strict";var i=n("d115"),a=n.n(i);a.a},"30ac":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.column[data-v-2d836721]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.color-tip[data-v-2d836721]{color:#909399}.text-normal[data-v-2d836721]{font-size:%?28?%}.x-picker-view[data-v-2d836721]{width:100%;height:%?476?%;overflow:hidden;background-color:#fff;z-index:666;font-size:%?28?%}uni-picker-view[data-v-2d836721]{height:100%}.btn-submit[data-v-2d836721]{color:#ff3600}.x-picker-cxt[data-v-2d836721]{position:fixed;bottom:0;left:0;width:100%;-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);z-index:3000}.x-picker-cnt.show[data-v-2d836721]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.x-picker-hd[data-v-2d836721]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 %?30?%;height:%?88?%;background-color:#fff;position:relative;text-align:center;font-size:%?32?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.x-picker-hd .x-picker-btn[data-v-2d836721]{font-size:%?30?%}.x-picker-hd[data-v-2d836721]:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #e5e5e5;color:#e5e5e5;-webkit-transform-origin:0 100%;-ms-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5)}',""])},"3a05":function(t,e,n){"use strict";n.r(e);var i=n("110c"),a=n("7f98");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("bbe3");var s=n("2877"),o=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"2d836721",null);e["default"]=o.exports},"3d9f":function(t,e,n){"use strict";var i=n("6daf"),a=n.n(i);a.a},4237:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0}},data:function(){return{ani:"",show:!1}},created:function(){},methods:{clear:function(){},open:function(){var t=this;this.show=!0,this.$nextTick(function(){setTimeout(function(){t.ani="uni-"+t.type},30)})},close:function(t){var e=this;!this.maskClick&&t||(this.ani="",this.$nextTick(function(){setTimeout(function(){e.show=!1},300)}))}}};e.default=i},"482b":function(t,e,n){"use strict";n.r(e);var i=n("cb84"),a=n("0ae1");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("1147");var s=n("2877"),o=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"090f85de",null);e["default"]=o.exports},"6daf":function(t,e,n){var i=n("844a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("4acacaaf",i,!0,{sourceMap:!1,shadowMode:!1})},7678:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"row b-b"},[n("v-uni-text",{staticClass:"tit"},[t._v("联系人")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},model:{value:t.form.contactor_name,callback:function(e){t.$set(t.form,"contactor_name",e)},expression:"form.contactor_name"}})],1),n("v-uni-view",{staticClass:"row b-b"},[n("v-uni-text",{staticClass:"tit"},[t._v("手机号")]),n("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),n("v-uni-view",{staticClass:"row b-b"},[n("v-uni-text",{staticClass:"tit"},[t._v("地址")]),n("v-uni-view",{staticClass:"address-box"},[n("area-select",{on:{submit:function(e){e=t.$handleEvent(e),t.changeAddress(e)}},model:{value:t.form.address_id,callback:function(e){t.$set(t.form,"address_id",e)},expression:"form.address_id"}})],1)],1),n("v-uni-view",{staticClass:"row b-b"},[n("v-uni-text",{staticClass:"tit"},[t._v("街道")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text"},model:{value:t.form.street,callback:function(e){t.$set(t.form,"street",e)},expression:"form.street"}})],1),n("v-uni-view",{staticClass:"row default-row"},[n("v-uni-text",{staticClass:"tit"},[t._v("设为默认")]),n("v-uni-switch",{attrs:{checked:1==t.form.is_default,color:"#fa436a"},on:{change:function(e){e=t.$handleEvent(e),t.switchChange(e)}}})],1),n("v-uni-button",{staticClass:"add-btn",on:{click:function(e){e=t.$handleEvent(e),t.confirm(e)}}},[t._v("提交")])],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"7f98":function(t,e,n){"use strict";n.r(e);var i=n("aef7"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},"844a":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-572a156a]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-572a156a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-572a156a]{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;color:#303133}.row .address-box[data-v-572a156a]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.row .input[data-v-572a156a]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-572a156a]{font-size:%?36?%;color:#909399}.default-row[data-v-572a156a]{margin-top:%?16?%}.default-row .tit[data-v-572a156a]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.default-row uni-switch[data-v-572a156a]{-webkit-transform:translateX(%?16?%) scale(.9);-ms-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-572a156a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#ff3600;border-radius:%?10?%;-webkit-box-shadow:1px 2px 5px rgba(219,63,96,.4);box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-572a156a]{background:#f8f8f8}',""])},"9e3c":function(t,e,n){"use strict";n.r(e);var i=n("7678"),a=n("b778");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("3d9f");var s=n("2877"),o=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"572a156a",null);e["default"]=o.exports},aef7:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac6a");var a=i(n("cebc")),r=i(n("482b")),s=n("2f62"),o={components:{uniPopup:r.default},data:function(){return{provinceList:[],cityList:[],areaList:[],pickerValue:[],itemHeight:"height: ".concat(uni.upx2px(88),"px;"),currentProvince:0,currentCity:0,currentArea:0,currentValue:{},currentMsg:null}},computed:(0,a.default)({},(0,s.mapState)({areas:function(t){return t.areas}})),watch:{areas:function(t){this.getProvinceList(),this.changeProvinceChildren(this.currentProvince)},currentProvince:function(t){this.changeProvinceChildren(t)},currentCity:function(t){this.changeCityChildren(t)},value:{handler:function(t){this.currentValue=t},deep:!0},currentValue:{handler:function(t){this.$emit("input",t)},deep:!0}},props:{msg:{type:String,default:"选择地址"},value:{type:Object|Array}},mounted:function(){var t=this,e=setInterval(function(){if(t.areas&&t.areas.length&&(clearInterval(e),t.getProvinceList(),t.value)){var n=t.$tools.find_rows(t.areas,{id:t.value},!1);t.currentValue=t.value,n&&(t.currentMsg=n.mergename)}},500)},methods:{getProvinceList:function(){var t=[];this.areas.forEach(function(e,n){1==e.level&&t.push(e)}),this.provinceList=t,this.changeProvinceChildren(this.currentProvince)},change:function(t){this.currentProvince=t.detail.value[0]||0,this.currentCity=t.detail.value[1]||0,this.currentArea=t.detail.value[2]||0,this.pickerValue=[this.currentProvince,this.currentCity,this.currentArea]},pickerOpen:function(){this.areas&&this.areas.length?this.$refs.$unipopup.open():uni.showToast({icon:"none",title:"数据加载中，请稍后"})},pickerCancel:function(t){this.$refs.$unipopup.close()},pickerConfirm:function(t){this.$refs.$unipopup.close();var e=this.areaList[this.currentArea];this.currentValue=e.id,this.currentMsg=e.mergename,this.$emit("submit",e.mergename,e,this.pickerValue)},changeProvinceChildren:function(t){var e=[],n=this.provinceList[t];this.areas.forEach(function(t,i){2==t.level&&t.pid==n.id&&e.push(t)}),this.cityList=e,this.currentCity=0,this.currentArea=0,this.changeCityChildren(this.currentCity)},changeCityChildren:function(t){var e=[],n=this.cityList[t];this.areas.forEach(function(t,i){3==t.level&&t.pid==n.id&&e.push(t)}),this.areaList=e,this.currentArea=0}}};e.default=o},b6dd:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("cebc")),r=i(n("3a05")),s=n("2f62"),o={components:{areaSelect:r.default},data:function(){return{form:{contactor_name:"",phone:"",address_id:null,address:"",street:"",is_default:0}}},onLoad:function(t){var e="新增收货地址";"edit"===t.type&&(e="编辑收货地址",this.form=JSON.parse(t.data),console.log(this.form)),this.manageType=t.type,uni.setNavigationBarTitle({title:e}),this.getAreas()},methods:(0,a.default)({},(0,s.mapActions)(["getUserAddress","getAreas"]),{switchChange:function(t){this.form.is_default=t.detail.value?1:0},changeAddress:function(t){this.form.address=t},chooseAddress:function(){this.$refs.ref.region.show()},onConfirm:function(t){console.log(t),this.form.address=t.result},showRegion:function(){this.$refs.region.show()},confirm:function(){var t=this,e=this.form;e.contactor_name?/(^1[3|4|5|7|8][0-9]{9}$)/.test(e.phone)?e.address&&e.address_id?e.street?this.$http.post("user.address.edit",this.form).then(function(e){t.$api.msg("地址".concat("edit"==t.manageType?"修改":"添加","成功")),t.getUserAddress(),setTimeout(function(){uni.navigateBack()},800)}):this.$api.msg("请填写街道信息"):this.$api.msg("请在选择所在位置"):this.$api.msg("请输入正确的手机号码"):this.$api.msg("请填写收货人姓名")}})};e.default=o},b778:function(t,e,n){"use strict";n.r(e);var i=n("b6dd"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},bbe3:function(t,e,n){"use strict";var i=n("d3be"),a=n.n(i);a.a},cb84:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("v-uni-view",{staticClass:"uni-popup"},[n("v-uni-view",{staticClass:"uni-popup__mask",class:[t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){e=t.$handleEvent(e),t.close(!0)}}}),n("v-uni-view",{staticClass:"uni-popup__wrapper",class:[t.type,t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){e=t.$handleEvent(e),t.close(!0)}}},[n("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.clear(e)}}},[t._t("default")],2)],1)],1):t._e()},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},d115:function(t,e,n){var i=n("10b7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("90dd0e0e",i,!0,{sourceMap:!1,shadowMode:!1})},d3be:function(t,e,n){var i=n("30ac");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("07f01cee",i,!0,{sourceMap:!1,shadowMode:!1})}}]);